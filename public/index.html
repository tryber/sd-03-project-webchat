<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WebChat</title>
    <script src="http://localhost:5000/socket.io/socket.io.js"></script>
    <script>
      const socket = io("http://localhost:5000");
      socket.on("message", (data) => {
        const li = document.createElement("li");
        li.textContent = data;
        document.getElementById("messagens").appendChild(li);
      });

      const getRandomName = () => `User ${Math.random() * 100}`;
   
        const sendToBackEnd = () => {
        const mensagem = document.getElementById('mensagemInput');
        socket.emit("message", { chatMessage: mensagem.value, nickname: getRandomName });
      }

    </script>
  </head>
  <body>
    <ul id="messagens"></ul>
    <form action="">
      <input id="mensagemInput" autocomplete="off" /><button type="submit" onclick="sendToBackEnd">Send</button>
    </form>
  </body>
</html>